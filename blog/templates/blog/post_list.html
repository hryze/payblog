{% extends "base.html" %}


{% block content %}

{% if user.is_authenticated %}
<p><a href="{% url 'blog:create' %}" class="btn btn-primary">New</a></p>
{% endif %}

<div class="post">
  {% for post in post_list %}
  <div class="post-thumbnail"><a href="#"><img src="{{ post.image.url }}" alt="Blog-post image" /></a>
  </div>
  <div class="post-header font-alt">
    <h2 class="post-title"><a href="{% url 'blog:detail' post.pk %}">{{ post.title }}</a></h2>
    <div class="post-meta">By<a href="#">{{ user.username }}</a>| {{ post.created_at }} | <a
        href="#">{{ post.category }}</a>
    </div>
  </div>
  <div class="post-entry">
    <p>{{ post.summary }} ...</p>
  </div>
  <div class="post-more"><a class="more-link" href="{% url 'blog:detail' post.pk %}">Read more</a></div>
  {% endfor %}
</div>


{% if is_paginated %}
<nav>
  <ul class="pagination">
    {% if page_obj.has_previous %}
    <li>
      <a href="?page={{ page_obj.previous_page_number }}" aria-label="Previous"><span aria-hidden="true">«</span></a>
    </li>
    {% else %}
    <li class="disabled">
      <a href="#" aria-label="Previous">«</a>
    </li>
    {% endif %}
    {% for page in paginator.page_range %}
    <li{% if page == page_obj.number %} class="active" {% endif %}>
      <a href="?page={{ page }}">{{ page }}</a>
      </li>
      {% endfor %}
      {% if page_obj.has_next %}
      <li>
        <a href="?page={{ page_obj.next_page_number }}" aria-label="Next"><span aria-hidden="true">»</span></a>
      </li>
      {% else %}
      <li class="disabled">
        <a href="#" aria-label="Previous">»</a>
      </li>
      {% endif %}
  </ul>
</nav>
{% endif %}

{% endblock %}